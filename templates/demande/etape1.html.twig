{% extends 'base.html.twig' %}

{% block title %}Étape 1 — Vos informations{% endblock %}
{% block stylesheets %} 
<link rel="stylesheet" href="{{ asset('css/etape1.css') }}"> 
{% endblock %}
{% block body %}
<style>
    body {
        background-image: url('{{ asset('images/back7.jpg') }}');
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
        background-attachment: fixed;
    }
</style>

<div class="container">
    <form method="post" class="glass-card">
        <h2>Étape 1 — Informations du demandeur</h2>

        <div class="mb-3">
            <label class="form-label">Prénom</label>
            <input type="text" name="demande[prenom]" value="{{ stepData.prenom ?? '' }}" class="form-control" required {% if userConnected %}readonly{% endif %}>
        </div>

        <div class="mb-3">
            <label class="form-label">Nom</label>
            <input type="text" name="demande[nom]" value="{{ stepData.nom ?? '' }}" class="form-control" required {% if userConnected %}readonly{% endif %}>
        </div>


        <div class="mb-3">
            <label class="form-label">Adresse e-mail</label>
            <input type="email" name="demande[email]" value="{{ stepData.email ?? '' }}" class="form-control" required {% if userConnected %}readonly{% endif %}>
        </div>

        <div class="mb-3">
            <label class="form-label">Numéro de téléphone</label>
            <input type="text" name="demande[telephone]" value="{{ stepData.telephone ?? '' }}" class="form-control" required {% if userConnected %}readonly{% endif %}>
        </div>
        <div class="mb-3">
            <label class="form-label">Nature du demandeur</label>
            <select name="demande[naturedemandeur]" class="form-control" required>
                <option value="">-- Sélectionnez --</option>
                <option value="particulier" {{ (stepData.naturedemandeur|default('')) == 'particulier' ? 'selected' : '' }}>Particulier</option>
                <option value="hotel" {{ (stepData.naturedemandeur|default('')) == 'hotel' ? 'selected' : '' }}>Hôtel</option>
                <option value="centre_formation" {{ (stepData.naturedemandeur|default('')) == 'centre_formation' ? 'selected' : '' }}>Centre de formation</option>
                <option value="Clinique/Hôpital" {{ (stepData.naturedemandeur|default('')) == 'Clinique/Hôpital' ? 'selected' : '' }}>Clinique/Hôpital</option>
            </select>
        </div>


        <div class="mb-3">
            <label class="form-label">Adresse de la prestation</label>
            <input type="text" name="demande[adresseprestation]" value="{{ stepData.adresseprestation ?? '' }}" class="form-control">
        </div>

        <div class="d-grid mt-4">
            <button type="submit" class="btn btn-primary btn-lg">Étape suivante</button>
        </div>
    </form>
</div>
{% endblock %}
